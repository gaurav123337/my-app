(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{32:function(e,t,a){e.exports=a(63)},37:function(e,t,a){},38:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(28),c=a.n(l),o=(a(37),a(38),a(9)),s=a(10),i=a(11),m=a(13),u=a(12),p=a(17),h=a(39);function d(e){var t=e.split("/");return console.log(t),t[t.length-2]}function g(e){var t=[];return h(e).then((function(e){return t=e.data.results,e.data.count})).then((function(t){for(var a=Math.ceil((t-1)/10),n=[],r=2;r<=a;r++)n.push(h("".concat(e,"?page=").concat(r)));return Promise.all(n)})).then((function(a){t=a.reduce((function(e,t){return[].concat(Object(p.a)(e),Object(p.a)(t.data.results))}),t),console.log(t,"dataVal");var n=d(e);return console.log(n),localStorage.setItem(n,JSON.stringify(t)),t})).catch((function(e){return console.log("Properly handle your exception here")}))}var f=a(2),v=Object(f.a)(),E="http://swapi.dev/api/planets/",b=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).login=function(t){var a=e.state,n=a.uname,r=a.pwd;g(E),JSON.parse(localStorage.getItem("people")).some((function(t){n===t.name&&r===t.birth_year&&e.redirectToSearch()}))},e.redirectToSearch=function(){v.push("/Search")},e.change=function(t){e.setState(Object(o.a)({},t.target.name,t.target.value))},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"sidenav"},r.a.createElement("div",{className:"login-main-text"},r.a.createElement("h2",null,"Application",r.a.createElement("br",null)," Login Page"),r.a.createElement("p",null,"Login or register from here to access."))),r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"col-md-6 col-sm-12"},r.a.createElement("div",{className:"login-form"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"User Name"),r.a.createElement("input",{type:"text",className:"form-control",name:"uname",placeholder:"User Name",onChange:function(t){return e.change(t)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",className:"form-control",name:"pwd",placeholder:"Password",onChange:function(t){return e.change(t)}})),r.a.createElement("button",{type:"submit",className:"btn btn-black mr-2",onClick:this.login},"Login"))))))}}]),a}(n.Component),y=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).search=function(){var e=n.state.search;if(console.log("http://swapi.dev/api/planets/","url"),e){g("http://swapi.dev/api/planets/");var t=JSON.parse(localStorage.getItem("planets")),a=new RegExp(e,"g"),r=t.filter((function(e,t){return e.name.match(a)&&e}));n.setState({allPlanet:r})}else n.setState({allPlanet:[]})},n.change=function(e){n.setState(Object(o.a)({},e.target.name,e.target.value),(function(){n.search()}))},n.getDetail=function(e){console.log(e,"planet"),n.renderDes(e)},n.renderDes=function(e){var t="";for(var a in e)t+='<li class="list-group-item"><span class="badge badge-primary badge-pill">'.concat(a,':</span><span style="word-break: break-all;"> ').concat(e[a],"</span></li>");console.log(t,"html"),n.setState({details:t,allPlanet:[]})},n.state={allPlanet:[],details:""},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.allPlanet,n=t.details;return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{style:{textAlign:"end"}},r.a.createElement("button",{type:"submit",className:"btn btn-black mr-2",onClick:function(){return v.push("/my-app")}},"Logout")),r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"col-md-6 col-sm-12"},r.a.createElement("div",{className:"login-form"},r.a.createElement("div",{className:"form-group mb-0"},r.a.createElement("input",{type:"text",className:"form-control",name:"search",placeholder:"Search ... ",onChange:function(t){return e.change(t)}})),r.a.createElement("div",{className:"dropdown"},r.a.createElement("div",{id:"myDropdown",className:"dropdown-content"},a.length>0&&a.map((function(t,a){return r.a.createElement("a",{href:"#about",style:{fontWeight:parseInt(t.population)>1e6?600:100},key:a,onClick:function(){return e.getDetail(t)}}," ",t.name)}))),r.a.createElement("div",{style:{margin:"10px"}},r.a.createElement("h3",null,"Planet detail:"),r.a.createElement("ul",{className:"list-group",dangerouslySetInnerHTML:{__html:n}})))))))}}]),a}(n.Component),N=a(29),w=a(6);var S=function(){return r.a.createElement(N.a,{history:v},r.a.createElement("div",{className:"App"},r.a.createElement(w.c,null,r.a.createElement(w.a,{path:"/my-app",exact:!0,component:b}),r.a.createElement(w.a,{path:"/Search",component:y}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(62);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[32,1,2]]]);
//# sourceMappingURL=main.45e0b016.chunk.js.map